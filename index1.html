<!DOCTYPE html>
<html>
 <head>
  <title>Leaflet Quick Start Guide Example</title>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href='https://api.tiles.mapbox.com/mapbox.js/v1.6.2/mapbox.css' rel='stylesheet' />
 </head>
<body>
 <div id="map" style="width: 1000px; height: 1000px"></div>

 <script src='https://api.tiles.mapbox.com/mapbox.js/v1.6.2/mapbox.js'></script>
 <script>

  var map = L.mapbox.map('map');
  //L.tileLayer('http://eccoilmoro.github.io/Mappa-Redditi-IRPEF-2012-/tiles-mappa-redditi-2012/{z}/{x}/{y}.png', {"attribution": "franco"}).addTo(map);
  L.mapbox.tileLayer({ "tilejson": "2.0.0",
  "tiles": [ "http://eccoilmoro.github.io/Mappa-Redditi-IRPEF-2012-/tiles-mappa-redditi-2012/{z}/{x}/{y}.png" ] ,
  "grids": [ "http://eccoilmoro.github.io/Mappa-Redditi-IRPEF-2012-/tiles-mappa-redditi-2012/{z}/{x}/{y}.grid.json" ],
    "description": "I redditi pro-capite 2012 degli italiani per ciascun Comune", 
    "minzoom": "6", 
    "version": "1.0.0", 
    "template": "{{#__location__}}{{/__location__}}{{#__teaser__}}Comune: <b>{{{Denominazione Comune}}} </b> <br>\nProvincia: <b>{{{Sigla Provincia}}} </b> <br>\nRegione: <b>{{{Regione}}} </b> <br>\nReddito medio pro-capite (euro): <b> {{{reddito_medio}}} </b> <br>\nIndice Gini (0-1) : <b> {{{gini}}} </b>{{/__teaser__}}{{#__full__}}{{/__full__}}", 
    "maxzoom": "9", 
    "legend": "<div class='my-legend'>\n<div class='legend-title'>Reddito annuo pro-capite <br> (Euro) <br> </div>\n<div class='legend-scale'>\n  <ul class='legend-labels'>\n    <li><span style='background:#a50026;'></span>0 - 12.000</li>\n    <li><span style='background:#d73027;'></span>12.000 - 14.000</li>\n    <li><span style='background:#f46d43;'></span>14.000 - 16.000</li>\n    <li><span style='background:#fdae61;'></span>16.000 - 18.000</li>\n    <li><span style='background:#fee08b;'></span>18.000 - 20.000</li>\n    <li><span style='background:#ffffbf;'></span>20.000 - 22.000</li>\n    <li><span style='background:#d9ef8b;'></span>22.000 - 24.000</li>\n    <li><span style='background:#a6d96a;'></span>24.000 - 26.000</li>\n    <li><span style='background:#66bd63;'></span>26.000 - 28.000</li>\n    <li><span style='background:#1a9850;'></span>28.000 - 30.000</li>\n    <li><span style='background:#006837;'></span> >30.000</li>\n  </ul>\n</div>\n<div class='legend-source'>Fonte dati: <a href=\"http://www1.finanze.gov.it/analisi_stat/index.php?tree=2013\">Open data MEF</a><br> Elaborazione : <b><a href=\"https://twitter.com/eccoilmoro\">@eccoilmoro</a></b></div>\n</div>\n\n<style type='text/css'>\n  .my-legend .legend-title {\n    text-align: left;\n    margin-bottom: 5px;\n    font-weight: bold;\n    font-size: 90%;\n    }\n  .my-legend .legend-scale ul {\n    margin: 0;\n    margin-bottom: 5px;\n    padding: 0;\n    float: left;\n    list-style: none;\n    }\n  .my-legend .legend-scale ul li {\n    font-size: 80%;\n    list-style: none;\n    margin-left: 0;\n    line-height: 18px;\n    margin-bottom: 2px;\n    }\n  .my-legend ul.legend-labels li span {\n    display: block;\n    float: left;\n    height: 16px;\n    width: 30px;\n    margin-right: 5px;\n    margin-left: 0;\n    border: 1px solid #999;\n    }\n  .my-legend .legend-source {\n    font-size: 70%;\n    color: #999;\n    clear: both;\n    }\n  .my-legend a {\n    color: #777;\n    }\n</style>", 
    "name": "Redditi degli italiani per Comune"}).addTo(map);
  
  var myGridLayer = L.mapbox.gridLayer({ "tilejson": "2.0.0",
  "tiles": [ "http://eccoilmoro.github.io/Mappa-Redditi-IRPEF-2012-/tiles-mappa-redditi-2012/{z}/{x}/{y}.grid.json" ]    
  }).addTo(map);
  var myGridControl = L.mapbox.gridControl(myGridLayer).addTo(map);
  map.setView(new L.LatLng(39.5, 9), 6);
</script>
</body>
</html>